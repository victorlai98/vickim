<!DOCTYPE html>
<html lang="en">
<head>
<title>ZIG ZAG KOPITIAM</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<style>
	body {position:relative;}

	div.secondary-nav .scroll {
	  white-space: nowrap;
	  overflow-x: auto;
	  -webkit-overflow-scrolling: touch;
	  -ms-overflow-style: -ms-autohiding-scrollbar;
	}

	div.secondary-nav .scroll::-webkit-scrollbar {
	  display: none;
	}

	div.secondary-nav .submenu {
	  display:none;
	  position:absolute;
	  left:0;
	  top:100%;
	  width:100%;
	  height: 0;
	  clear: both;
	  background-color: #fbf7fc;
	  box-shadow: 0 .3rem .3rem rgba(0,0,0,.15)!important;
	}

	div.secondary-nav .submenu.visible {
	  display:block;
	  height: auto;
	  border-top: 1px solid #e8e8e8;
	}

	div.secondary-nav .dropdown {position:inherit;}
	div.secondary-nav .dropdown-item {display: inline-block; font-size:0.8rem; font-weight:500; width:auto; clear:inherit; padding: 12px;}
	div.secondary-nav .dropdown-toggle.visible {background:#fbf7fc}
	div.secondary-nav .dropdown-item.active, div.secondary-nav .dropdown-item:active, div.secondary-nav .dropdown-item:hover  {background:#fff; color:#6a2c79;}

	/*Don't Remove this give class/id if required*/
	div.secondary-nav, div.secondary-nav nav {
	  font-size: 0;
	}

	div.secondary-nav {
	  background-color: #fff;
	  // border-top: 1px solid #e2e2e3;
	  // border-bottom: 1px solid #e2e2e3;
	  position: relative;
	  z-index: 2;
	  clear: both;
	  width: 100%;
	  /* Force Hardware Acceleration */
	  -webkit-transform: translateZ(0);
			  transform: translateZ(0);
	  will-change: transform;
	  -webkit-transition: -webkit-transform .25s;
	  transition: -webkit-transform .25s;
	  transition: transform .25s;
	  transition: transform .25s, -webkit-transform .25s;
	}

	div.secondary-nav .vam {
	  display: inline-block;
	  vertical-align: middle;
	}

	div.secondary-nav .nav {
	  width: 100%;
	}

	div.secondary-nav .nav-item {
	  display: inline-block;
	  vertical-align: middle;
	  // cursor: pointer;
	}

	div.secondary-nav .nav-link{
	  padding: 18px 14px;
	  font-size: 0.90rem;
	  font-weight: 600;
	}

	@media (max-width: 768px) {
	  div.secondary-nav::after {
		content: '';
		position: absolute;
		z-index: 1;
		top: 0;
		right: 0;
		height: 100%;
		width: 35px;
		background: linear-gradient(to left, #e3e3e3, rgba(37, 40, 61, 0));
		pointer-events: none;
		transition: opacity .2s;
	  }
	  div.secondary-nav .nav-link {padding: 14px 10px;}
	}

	div.secondary-nav .nav-link.active {color: #000; box-shadow: inset 0px -3px 0px 0px #fdac00;}
	.nav_container_right{
		font-size:2.5vw;
	}
	@media screen and (min-width: 600px) {
	  .nav_container_right, .nav_container_left{
		 font-size: 10px;
	  }
	}
	.flex-container {
		padding: 10px;
		display: flex;
		flex-wrap: nowrap;
	}
	h4{
		padding: 10px;
		margin-bottom: 0px;
	}
	h5{
		font-size: 15px;
	}
	a{
		font-size: 10px;
	}
	.container_top {
		display: flex;
		justify-content: space-between;
		align-items: center;
		background: black;
		height: 5%;
		padding: 10px;
    }
	.float-card {
		position: fixed;
		bottom: 10px;
		right: 20px;
		width: auto;
		color: white;
		padding: 15px;
		border: none;
		border-radius: 5px;
		cursor: pointer;
    }
	.cart-item {
		display: flex;
		justify-content: space-between;
		align-items: center;
	}
	.modal-footer{
	}
	.modal-dialog {
		width:96%;
		position:fixed;
		bottom:70px;
	}  
	.modal-body{
		height: auto;
		max-height: 70vh;
		overflow-y: auto;
	}
	.nav-link{
		color: darkgreen;
	}
	.centerline{
		position: relative;
		height: 2px; 
		left: 2%; 
		right: 2%; 
		width: 96%;
	}
	.centerlinefull{
		position: relative;
		height: 5px; 
		width: 100%;
	}
</style>

</head>

<body data-spy="scroll" data-target="#secondary-nav" data-offset="55">

<div class="nav_container_right text-center bg-warning bg-gradient shadow fw-bold" id="nav_container_right">TABLE 1</div>
  
<div class="container_top bg-success bg-gradient d-flex justify-content-center">
	<div class="nav_container_center fw-bold" id="nav_container_center">
		ZIG ZAG KOPITIAM
	</div>
</div>

<div class="container_middle">
	<div id="carouselExampleIndicators" class="carousel slide">
		<div class="carousel-indicators">
			<button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
			<button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
			<button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
		</div>
		<div class="carousel-inner">
			<div class="carousel-item active">
				<img src="new-food-ads.jpg" class="d-block w-100" alt="...">
			</div>
			<div class="carousel-item">
				<img src="new-food-ads.jpg" class="d-block w-100" alt="...">
			</div>
			<div class="carousel-item">
				<img src="new-food-ads.jpg" class="d-block w-100" alt="...">
			</div>
		</div>
		<button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
			<span class="carousel-control-prev-icon" aria-hidden="true"></span>
			<span class="visually-hidden">Previous</span>
		</button>
		<button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
			<span class="carousel-control-next-icon" aria-hidden="true"></span>
			<span class="visually-hidden">Next</span>
		</button>
	</div>
</div>

<div id="secondary-nav" class="secondary-nav shadow-sm position-sticky" style="top:0;">
	<div class="container">
		<ul class="vam nav scroll dragger scroller" id="category-list">
		</ul>
	</div>
</div>

<div id="tabcontent" data-offset="0">
		
	<!-- Modal -->
	<div class="modal fade" id="subModal" tabindex="-1" aria-labelledby="subModalLabel" aria-hidden="true">
	  <div class="modal-dialog">
		<div class="modal-content">
		  <div class="modal-header">
			<h5 class="modal-title" id="subModalLabel">Food Details</h5>
			<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
		  </div>
		  <div class="modal-body" style="height=auto; width:100%;">
			<div id="food-details" class="text-center">
			  <!-- Food details will be populated here -->
			</div>
		  </div>
		  <div class="modal-footer">
			<button type="button" class="btn shadow btn-success bg-gradient fw-bold" id="confirmAdd" style="width:100%;">ADD</button>
		  </div>
		</div>
	  </div>
	</div>
	
	<div class="modal fade" id="cartModal" tabindex="-1" aria-labelledby="cartModalLabel" aria-hidden="true">
	  <div class="modal-dialog">
		<div class="modal-content">
		  <div class="modal-header">
			<h5 class="modal-title" id="cartModalLabel" style="color: #000;">Order List</h5>
			<div class="small text-muted" id="time"></div>
			<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
		  </div>
			<div class="modal-body" id="cartItems">
			<!-- Cart items will be dynamically added here -->
		</div>
		<div class="modal-footer d-flex justify-content-between" style="">
			<div>Total Price : <span id="totalPrice" class="text-muted" style="width:auto;">RM 0.00</span></div>
			<button type="button" class="btn btn_checkout btn-success bg-gradient shadow">Place Order</button>
		</div>

		</div>
	  </div>
	</div>

	<!-- Update the button in the HTML body to trigger the modal -->
	
	<button class="float-card bg-warning bg-gradient shadow d-flex justify-content-between " data-bs-toggle="modal" data-bs-target="#cartModal">
			
		<div>
			<img src="cart-shopping-solid.png" style="height:20px;">
		</div>
		<span id="cartBadge" class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger" style="background-color:rgb(19, 87, 54); width:25px; border-radius:4px;">
			0
		</span>
	</button>
	
</div>
  
</body>

<script src="https://www.gstatic.com/firebasejs/3.7.4/firebase.js"></script>
<script>

	let firebaseConfig = {
		apiKey: "AIzaSyAomp24GM3Yvve-7ttWc_HhGWNUCbZUBPI",
		authDomain: "qr-food-ordering-ab95d.firebaseapp.com",
		databaseURL: "https://qr-food-ordering-ab95d-default-rtdb.firebaseio.com",
		projectId: "qr-food-ordering-ab95d",
		storageBucket: "qr-food-ordering-ab95d.appspot.com",
		messagingSenderId: "294635791484",
		appId: "1:294635791484:web:aecc1aa12d08182a1dd5f9"
	
	};	
	// Initialize Firebase
	firebase.initializeApp(firebaseConfig);
	
	// Get a reference to the database service
	 var database = firebase.database();

	// Reference to your Food_Category in Firebase
	var foodCategoryRef = database.ref('Food_Category');
	
	// Reference to your Food_Item in Firebase
	var foodItemRef = database.ref('Food_Item');

	// Read data from Firebase
	foodCategoryRef.once('value', function(snapshot) {
		snapshot.forEach(function(childSnapshot) {
			// Extract data from the snapshot
			var categoryKey = childSnapshot.key;
			var categoryName = childSnapshot.val();

			// Update HTML with the fetched data
			// For example, you can append the category name to a list
			var categoryList = document.getElementById('category-list');
			var listItem = document.createElement('li');
			listItem.className = 'nav-item';
			listItem.innerHTML = '<a href="#'+categoryName.replace(/\s+/g, '-')+'" class="nav-link">'+categoryName+'</a>';
			categoryList.appendChild(listItem);
			
			var itemList = document.getElementById('tabcontent');
			var menuItem = document.createElement('div');
			var sanitizedClassName = categoryName.replace(/\s+/g, '-');
			menuItem.classList.add(sanitizedClassName);
			menuItem.setAttribute("id", sanitizedClassName);
			menuItem.innerHTML = 
			'<h4>'+ categoryName +'</h4>';
			itemList.appendChild(menuItem);
		});
	});

	foodItemRef.once('value', function(snapshot) {
		snapshot.forEach(function(childSnapshot) {
			// Extract data from the snapshot
			var foodImg = childSnapshot.val().Food_Img;
			var foodName = childSnapshot.val().Food_Name;
			var foodPrice = parseFloat(childSnapshot.val().Food_Price); // Parse as float

			// Ensure foodPrice is a valid number before calling toFixed
			if (!isNaN(foodPrice)) {
				// Find the container for this category
				var foodCategory = childSnapshot.val().Food_Category;
				var sanitizedClassName = foodCategory.replace(/\s+/g, '-');
				var itemList = document.getElementById(sanitizedClassName);
				
				// Ensure the container exists before appending child elements
				if (itemList) {
					// Create HTML elements for each food item
					var listItem = document.createElement('div');
					listItem.classList.add('food-container'); // Optional: Add a class for styling
					listItem.innerHTML = 
						'<div class="flex-container add-food">' +
							'<div style="width: 65%; display: table;">' +
								'<div class="card-body" style="display: table-cell; vertical-align: middle;">' +
									'<h5 class="card-title">' + foodName + '</h5>' +
									'<p class="card-text"><small class="text-muted">RM ' + foodPrice.toFixed(2) + '</small></p>' + // Use toFixed after parsing
									'<a href="#" class="btn bg-success bg-gradient btn-sm fw-bold shadow">+ ADD</a>' +
								'</div>' +
							'</div>' +
							'<div style="width: 35%; padding:10px;">' +
								'<img src="' + foodImg + '" class="shadow d-block w-100" alt="' + foodName + '">' +
							'</div>' +
						'</div>' +
						'<div class="centerline bg-secondary bg-gradient bg-opacity-25 shadow"></div>';
					// Append the food item to the container
					itemList.appendChild(listItem);
				}
			} else {
				console.error("Invalid food price:", childSnapshot.val().Food_Price);
			}
		});

		// Call function to add event listeners after adding all food items
		addEventListeners();
	});

	


	// Get the check-in number from the URL parameter
	var urlParams = new URLSearchParams(window.location.search);
	var tableNumber = urlParams.get('tableNumber');
	var getNow = new Date();
	const timeNow = getNow.getDate() + ' ' + getNow.getMonth() + ' ' + getNow.getYear() + ' ' + getNow.getHours() + ' ' + getNow.getMinutes() + ' ' + getNow.getSeconds();

	// Set the image source
	var tableElement = document.getElementById('nav_container_right');
	var OrderTitleElement = document.getElementById('cartModalLabel');
	var timeElement = document.getElementById('time');
	
	tableElement.innerHTML = tableNumber;
	OrderTitleElement.innerHTML = "ORDER LIST - " + tableNumber + ' ';
	//timeElement.innerHTML = timeNow;

	(function (window, document, undefined) {
	  'use strict';
	  
	  // Select nav items that have submenus
	  var hasSubmenu = document.querySelectorAll('[data-id]');
	  var visible = 'visible';
	  var i = 0;
	  
	  // Show the submenu by toggling the relevant class names
	  function showSubmenu (event) {
		// We lose reference of this when filtering the nav items
		var self = this;
		
		// Select the relevant submenu, by the data-id attribute
		var submenu = document.getElementById(self.dataset.id);
		
		// Probably best to prevent clicks through
		event.preventDefault();
		if(!$(submenu).hasClass(visible)){
		  $('.nav-link').removeClass(visible);
		  $('.submenu').removeClass(visible);
		}

		self.classList.toggle(visible);
		submenu.classList.toggle(visible);
	  }
	  
	  // Remove the active class
	  function removeChildClass(el) {
		// Check if it exists, then remove
		if ( el.classList.contains(visible) ) {
		  el.classList.remove(visible);
		}
	  }
	  
	  // On clicks show submenus
	  for ( i = 0; i < hasSubmenu.length; i++ ) {
		hasSubmenu[i].addEventListener('click', showSubmenu);
	  }
	})(window, document);


	/*---------- DRAGGER ----------*/
	$(document).ready(function() {
	  $('.dragger').on('mousedown', function(event) {
		$(this)
		  .data('down', true)
		  .data('x', event.clientX)
		  .data('scrollLeft', this.scrollLeft)
		  .addClass("dragging");

		return false;
	  }).on('mouseup', function(event) {
		$(this)
		  .data('down', false)
		  .removeClass("dragging");
	  }).on('mousemove', function(event) {
		if ($(this).data('down') == true) {
		  this.scrollLeft = $(this).data('scrollLeft') + $(this).data('x') - event.clientX;
		}
	  }).on('wheel', function(event, delta) {
		this.scrollLeft -= (delta * 30);
	  }).css({
		'overflow' : 'hidden',
		'cursor' : '-moz-grab'
	  });
	  $(window).mouseout(function (event) {
		if ($('.team-form-data').data('down')) {
		  try {
			if (event.originalTarget.nodeName == 'BODY' || event.originalTarget.nodeName == 'HTML') {
			  $('.team-form-data').data('down', false);
			}
		  } catch (e) {}
		}
	  });
	});


	/*---------- SCROLLER ----------*/
	jQuery(function ($) {
		$.fn.hScroll = function (amount) {
			amount = amount || 120;
			$(this).bind("DOMMouseScroll mousewheel", function (event) {
				var oEvent = event.originalEvent, 
					direction = oEvent.detail ? oEvent.detail * -amount : oEvent.wheelDelta, 
					position = $(this).scrollLeft();
				position += direction > 0 ? -amount : amount;
				$(this).scrollLeft(position);
				event.preventDefault();
			})
		};
	});

	$(document).ready(function() {
		$('.scroller').hScroll(); // You can pass (optionally) scrolling amount
	});

	/*---- ANCHOR LINK ANIMATION WITH OFFSET ----*/
	$(".secondary-nav a[href^='#']").on('click', function(event) {
	  var target = this.hash;

	  event.preventDefault();

	  var navOffset = $('.secondary-nav').height();

	  return $('html, body').animate({
		scrollTop: $(this.hash).offset().top - navOffset
	  }, 50, function() {
		return window.history.pushState(null, null, target);
	  });
	});

	$(".secondary-nav li").click(function() {
	  centerLI(this, '.vam');
	  // Dropdown Toggle
	  if(!$(this).hasClass('dropdown')){
		$('.nav-link').removeClass('visible');
		$('.submenu').removeClass('visible');
	  }
	});

	//http://stackoverflow.com/a/33296765/350421
	 function centerLI(target, outer) {
	   var out = $(outer);
	   var tar = $(target);
	   var x = out.width() - 50;
	   var y = tar.outerWidth(true);
	   var z = tar.index();
	   var q = 0;
	   var m = out.find('li');
	   for (var i = 0; i < z; i++) {
		 q += $(m[i]).outerWidth(true);
	   }
	   //out.scrollLeft(Math.max(0, q - (x - y)/2));
	   out.animate({
		 scrollLeft: Math.max(0, q - (x - y) / 2)
	   }, 500);

	 }

	// Dropdown Close on Body click
	$(document).mouseup(function(e) 
	{
		var container = $("#secondary-nav");

		// if the target of the click isn't the container nor a descendant of the container
		if (!container.is(e.target) && container.has(e.target).length === 0) 
		{
			$('.nav-link').removeClass('visible');
			$('.submenu').removeClass('visible');
		}
	});
	
	function addEventListeners() {
		// JavaScript to handle click event and populate modal
		document.querySelectorAll('.add-food').forEach(item => {
			item.addEventListener('click', event => {
				event.preventDefault();
			
				const name = item.closest('.flex-container').querySelector('.card-title').textContent.trim();
				const image = item.closest('.flex-container').querySelector('img').getAttribute('src');
				const price = parseFloat(item.closest('.flex-container').querySelector('.text-muted').textContent.replace('RM ', ''));
			
				// Populate modal with food details
				document.getElementById('food-details').innerHTML = `
					<img src="${image}" alt="${name}" class="shadow" style="max-width: 60%;">
					<h4>${name}</h4>
					<p>Price: RM ${price.toFixed(2)}</p>
					<div class="form-group">
						<textarea class="form-control RemarkTextarea" id="RemarkTextarea" rows="3" placeholder="Remark:"></textarea>
					</div>
				`;
				
				// Set data attributes for adding to cart
				document.getElementById('confirmAdd').setAttribute('data-name', name);
				document.getElementById('confirmAdd').setAttribute('data-price', price);
				
				// Show the modal
				var myModal = new bootstrap.Modal(document.getElementById('subModal'));
				myModal.show();
			});
		});
	}

// JavaScript to handle adding food item to cart
document.getElementById('confirmAdd').addEventListener('click', function() {
  // Retrieve data attributes
  const name = this.getAttribute('data-name');
  const remark = document.getElementById('RemarkTextarea').value.trim();
  const price = parseFloat(this.getAttribute('data-price'));
  const image = document.querySelector('.modal-body img').getAttribute('src');

  // Create cart item
  const cartItem = `
    <div class="d-flex mb-3 cart-item" data-name="${name}" >
      <img src="${image}" alt="${name}" class="me-1 shadow" style="width: 50px;">
      <div class="text-left" style="width:54%;">
			<p class="mb-0 h6" style="color: #000; padding-right: 10px;"><small>${name}</small></p>
			<p class="mb-0 text-muted small" style="margin-bottom: 0;">RM ${price.toFixed(2)}</p>
			<p class="mb-0 text-muted small" style="width:90%; color: #000; overflow-x:auto; white-space: nowrap;"><em>Remark: ${remark}</em></p>
      </div>
      <div class="text-center" role="group" style="width:28%; padding:6px;">
        <div class="btn-group text-center shadow" role="group" style="width:100%">
          <button type="button" class="btn btn-minus btn-sm btn-secondary bg-gradient" style="width:33.3%;" data-toggle="confirmation" data-title="DELETE ITEM">-</button>
          <button type="button" class="btn quantity-number text-center btn-sm bg-secondary bg-gradient bg-opacity-25 small" style="width:33.3%;">1</button>
          <button type="button" class="btn btn-plus btn-sm btn-success bg-gradient" style="width:33.3%;">+</button>
        </div>
        <div>
          <span class="subtotal text-muted small">RM ${price.toFixed(2)}</span>
        </div>
      </div>
    </div>
  `;

  // Append cart item to cart modal
  document.getElementById('cartItems').innerHTML += cartItem;

  // Update total price in the modal
  const totalPriceElement = document.getElementById('totalPrice');
  const totalPrice = parseFloat(totalPriceElement.textContent.replace('RM ', ''));
  totalPriceElement.textContent = 'RM ' + (totalPrice + price).toFixed(2);

  // Update cart badge
  const cartBadge = document.getElementById('cartBadge');
  const itemCount = parseInt(cartBadge.textContent) || 0;
  cartBadge.textContent = itemCount + 1;

  // Close the submodal
  var subModal = bootstrap.Modal.getInstance(document.getElementById('subModal'));
  subModal.hide();
});

// JavaScript to handle plus button in cart modal
document.addEventListener('click', function(event) {
  if (event.target.matches('.btn-plus')) {
    const cartItem = event.target.closest('.cart-item');
    const quantityElement = cartItem.querySelector('.quantity-number');
    const priceElement = cartItem.querySelector('.text-muted');
    const subtotalElement = cartItem.querySelector('.subtotal');
    const totalPriceElement = document.getElementById('totalPrice');
    const price = parseFloat(priceElement.textContent.replace('RM ', ''));
    let quantity = parseInt(quantityElement.textContent);

    // Increment quantity
    quantity++;
    quantityElement.textContent = quantity;

    // Calculate subtotal and update price
    const subtotal = price * quantity;
    priceElement.textContent = 'RM ' + price.toFixed(2);
	
	// Update subtotal price by adding the item's price
    const updatedSubTotalPrice = subtotal;
    subtotalElement.textContent = 'RM ' + updatedSubTotalPrice.toFixed(2);

    // Update total price by adding the item's price
    const totalPrice = parseFloat(totalPriceElement.textContent.replace('RM ', ''));
    const updatedTotalPrice = totalPrice + price;
    totalPriceElement.textContent = 'RM ' + updatedTotalPrice.toFixed(2);
	
	// Update cart badge
	  const cartBadge = document.getElementById('cartBadge');
	  const itemCount = parseInt(cartBadge.textContent) || 0;
	  cartBadge.textContent = itemCount + 1;
	  
  }else if (event.target.matches('.btn-minus')) {
    const cartItem = event.target.closest('.cart-item');
    const quantityElement = cartItem.querySelector('.quantity-number');
    const priceElement = cartItem.querySelector('.text-muted');
    const subtotalElement = cartItem.querySelector('.subtotal');
    const totalPriceElement = document.getElementById('totalPrice');
    const price = parseFloat(priceElement.textContent.replace('RM ', ''));
    let quantity = parseInt(quantityElement.textContent);

	if (quantity === 1) {
	
		if (confirm("DELETE ITEM") == true) {
			// Update total price by adding the item's price
			const totalPrice = parseFloat(totalPriceElement.textContent.replace('RM ', ''));
			const updatedTotalPrice = totalPrice - price;
			totalPriceElement.textContent = 'RM ' + updatedTotalPrice.toFixed(2);
			
			// Update cart badge
			  const cartBadge = document.getElementById('cartBadge');
			  const itemCount = parseInt(cartBadge.textContent) || 0;
			  cartBadge.textContent = itemCount - 1;
			
			cartItem.remove();
		  } else {
		  }
		
    } else {
		// Minus quantity
		quantity--;
		quantityElement.textContent = quantity;

		// Calculate subtotal and update price
		const subtotal = price * quantity;
		priceElement.textContent = 'RM ' + price.toFixed(2);
		
		// Update subtotal price by adding the item's price
		const updatedSubTotalPrice = subtotal;
		subtotalElement.textContent = 'RM ' + updatedSubTotalPrice.toFixed(2);

		// Update total price by adding the item's price
		const totalPrice = parseFloat(totalPriceElement.textContent.replace('RM ', ''));
		const updatedTotalPrice = totalPrice - price;
		totalPriceElement.textContent = 'RM ' + updatedTotalPrice.toFixed(2);
		
		// Update cart badge
		  const cartBadge = document.getElementById('cartBadge');
		  const itemCount = parseInt(cartBadge.textContent) || 0;
		  cartBadge.textContent = itemCount - 1;
	
	}
  }
});





</script>
</html>
