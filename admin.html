<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/6.3.5/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.3.5/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.3.5/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.3.5/firebase-auth.js"></script>
    
    <!--Adding Bootstrap-->    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

    
    <title>AdminLogin</title>
	
	<style>
		body {
            position: relative;
            width: 100%;
            height: auto;
            padding: 0px 0px 0px 0px !important;
        }
		.center { 
			width: 90%px; 
			margin: 200px auto 0px auto; 
		}
		.btnLogin{
			width: 100%;
		}
		.card{
			width:90%;
		}
		a, a:hover{
			color:#333
		}
	</style>
</head>
<body>
    <div class="card center " style="padding:10px;">
	<h5 class="text-center" >Admin Console</h5>
          <div class="form-group">
            <label class="small" for="email">Email:</label>
            <input type="text" class="form-control shadow-sm" id="txtEmail" name="email">
          </div>
          <div class="form-group">
            <label class="small" for="pwd">Password:</label>
            <div class="input-group flex-nowrap" id="show_hide_password">
				<input type="password" class="text form-control shadow-sm" id="txtPassword" name="password">
				<a href="" class="input-group-text"><i class="fa fa-eye-slash" aria-hidden="true"></i></a>
			</div>
          </div>
            <button type="submit" class="btn btn-sm btn-primary shadow btnLogin" id="btnLogin">Login</button>
            <!--<button type="submit" class="btn btn-primary shadow" id="btnSignup">Signup</button>-->
    </div>      
<script>

	$(document).ready(function() {
		$("#show_hide_password a").on('click', function(event) {
			event.preventDefault();
			if($('#show_hide_password input').attr("type") == "text"){
				$('#show_hide_password input').attr('type', 'password');
				$('#show_hide_password i').addClass( "fa-eye-slash" );
				$('#show_hide_password i').removeClass( "fa-eye" );
			}else if($('#show_hide_password input').attr("type") == "password"){
				$('#show_hide_password input').attr('type', 'text');
				$('#show_hide_password i').removeClass( "fa-eye-slash" );
				$('#show_hide_password i').addClass( "fa-eye" );
			}
		});
	});
		
	(function () {
		
		// Your web app's Firebase configuration
		var firebaseConfig = {
			apiKey: "AIzaSyAomp24GM3Yvve-7ttWc_HhGWNUCbZUBPI",
			authDomain: "qr-food-ordering-ab95d.firebaseapp.com",
			databaseURL: "https://qr-food-ordering-ab95d-default-rtdb.firebaseio.com",
			projectId: "qr-food-ordering-ab95d",
			storageBucket: "qr-food-ordering-ab95d.appspot.com",
			messagingSenderId: "294635791484",
			appId: "1:294635791484:web:aecc1aa12d08182a1dd5f9"
		};
		// Initialize Firebase
		firebase.initializeApp(firebaseConfig);

		//Get Elements
		const txtEmail = document.getElementById("txtEmail");
		const txtPassword = document.getElementById("txtPassword");
		const btnLogin = document.getElementById("btnLogin");
		const btnSignup = document.getElementById("btnSignup");

		//Add Login Event
		btnLogin.addEventListener('click', e => {
			const email = txtEmail.value;
			const password = txtPassword.value;

			const auth = firebase.auth();

			//sign in with firebase auth
			auth.signInWithEmailAndPassword(email, password).then(user =>{
				window.location.href = "firebase.html";
			}).catch(err => {
				alert("Email or Password incorrect please try again");
			});
			
		});

		//Add Signup Event
		//btnSignup.addEventListener('click', e => {

			//get email and password
		//    const email = txtEmail.value;
		//    const password = txtPassword.value;

		//    const auth = firebase.auth();

			//sign in with firebase auth
		//    const promise = auth.createUserWithEmailAndPassword(email, password).then(user => {
		//        alert("Signup Successful :)")
		//    }).catch(err => {
		//        alert(err.message);
		//    });

		//});

	}());
</script>
</body>
</html>